\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[margin=1.0in]{geometry}
\usepackage{amsmath}
\usepackage{xcolor}
\usepackage{listings}
\usepackage{courier}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{float}
\usepackage{mathtools}

\DeclarePairedDelimiterX{\infdivx}[2]{(}{)}{%
  #1\;\delimsize\|\;#2%
}
\newcommand{\infdiv}{D\infdivx}
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}

\definecolor{mGreen}{rgb}{0,0.6,0}
\definecolor{mGray}{rgb}{0.5,0.5,0.5}
\definecolor{mPurple}{rgb}{0.58,0,0.82}
\definecolor{backgroundColour}{rgb}{0.95,0.95,0.92}
\definecolor{g}{rgb}{0.95,0.95,0.92}

\lstset{basicstyle=\footnotesize\ttfamily,breaklines=true}
\lstset{framextopmargin=50pt,frame=bottomline}
\lstdefinestyle{CStyle}{
    backgroundcolor=\color{backgroundColour},   
    commentstyle=\color{mGreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{mPurple},
    stringstyle=\color{mPurple},
    basicstyle=\footnotesize\ttfamily,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
    language=C
}

\pagenumbering{arabic}

\linespread{2}

\title{Building and Using an \textit{n}-body Code}
\author{Ian Fare}
\date{November 8, 2017}

\begin{document}

\maketitle

\section{Introduction}

\section{Building an \textit{n}-body code}

\subsection{Choosing an integratotion method}

The \textit{n}-body problem is the problem of determining the motion of $n$ point masses $m_i$ at positions $\textbf{r}_i$, with $i=1,2,...,n$. With the motion of each point mass governed by Newton's law of universal gravitaion, the \textit{n}-body problem is represented by a system of $n$ second-order ordinary differential equations:

\begin{equation}
    \textbf{r''}_i = \sum_{\substack{j=1\\j\neq i}}^n \frac{Gm_j}{\norm{\textbf{r}_i-\textbf{r}_j}^3}(\textbf{r}_j-\textbf{r}_i)
\end{equation}

% Explain truncation
\textit{n}-body simulations must solve this system of differential equations in one way or another. There are a number of numerical methods of solving these differential equations, differing in their accuracy and time complexity. Numerical methods step through time, advancing by some interval $h$ of time and calculating the position and velocity of each point mass. Each step introduces a \textit{local truncation error} (LTE) which scales with $h$, and the local truncation errors of each step accumulate to some \textit{global truncation error} (GTE) at time $t$. An integration method is of order $p$ if the local truncation error is on the order of $\mathcal{O}(h^{p+1})$. So, given the initial state of an \textit{n}-body system, to solve for the system at time $t$ with a given error tolerance, a higher-order method will not require as small an interval $h$ as a lower-order method, and will reach $t$ with fewer time steps, and thus with less computation. 

\subsection{Programming the Runge-Kutta method}



\subsection{Other integration methods}


\section{Astrophysical considerations}

\section{Studying star clusters using \textit{n}-body codes}



\bibliographystyle{IEEEtran}
\bibliography{bibfile}

\end{document}
